<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<meta name="author" content="Brendan Molloy">
<title>kbdgen User Manual</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>kbdgen User Manual</h1>
<div class="details">
<span id="author" class="author">Brendan Molloy</span><br>
<span id="email" class="email"><a href="mailto:brendan@bbqsrc.net">brendan@bbqsrc.net</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel0">
<li><a href="#introduction_to_kbdgen_0_5_0">Introduction to kbdgen 0.5.0</a>
<ul class="sectlevel1">
<li><a href="#what_is_kbdgen">1. What is kbdgen?</a></li>
<li><a href="#supported_targets">2. Supported targets</a></li>
<li><a href="#anatomy_of_a_kbdgen_project">3. Anatomy of a kbdgen project</a></li>
<li><a href="#usage">4. Usage</a></li>
</ul>
</li>
<li><a href="#installation">Installation</a>
<ul class="sectlevel1">
<li><a href="#from_source">5. From Source</a>
<ul class="sectlevel2">
<li><a href="#unix_like_linux_macos_etc">5.1. Unix-like (Linux, macOS, etc)</a></li>
<li><a href="#windows">5.2. Windows</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#projects">Projects</a>
<ul class="sectlevel1">
<li><a href="#example_project_descriptor_file">6. Example project descriptor file</a></li>
<li><a href="#supported_properties">7. Supported properties</a></li>
<li><a href="#best_practices">8. Best practices</a></li>
</ul>
</li>
<li><a href="#layouts">Layouts</a>
<ul class="sectlevel1">
<li><a href="#structure_of_a_layout_descriptor_file">9. Structure of a layout descriptor file</a></li>
<li><a href="#mobile_layouts">10. Mobile layouts</a></li>
<li><a href="#desktop_layouts">11. Desktop layouts</a>
<ul class="sectlevel2">
<li><a href="#modes">11.1. Modes</a></li>
</ul>
</li>
<li><a href="#supported_properties_2">12. Supported properties</a></li>
<li><a href="#examples">13. Examples</a>
<ul class="sectlevel2">
<li><a href="#mobile_layout_example">13.1. Mobile layout example</a></li>
<li><a href="#windows_desktop_layout_example">13.2. Windows desktop layout example</a></li>
<li><a href="#macos_desktop_layout_example">13.3. macOS desktop layout example</a></li>
</ul>
</li>
<li><a href="#best_practices_2">14. Best practices</a></li>
<li><a href="#generating_layouts_from_cldr_with_cldr2kbdgen">15. Generating layouts from CLDR with cldr2kbdgen</a></li>
</ul>
</li>
<li><a href="#targets">Targets</a>
<ul class="sectlevel1">
<li><a href="#android">16. Android</a>
<ul class="sectlevel2">
<li><a href="#requirements">16.1. Requirements</a></li>
<li><a href="#installation_and_environment_configuration">16.2. Installation and environment configuration</a></li>
<li><a href="#project_level_configuration_and_properties">16.3. Project-level configuration and properties</a></li>
<li><a href="#layout_level_configuration_and_properties">16.4. Layout-level configuration and properties</a></li>
<li><a href="#testing">16.5. Testing</a></li>
<li><a href="#generating_keystores">16.6. Generating keystores</a></li>
</ul>
</li>
<li><a href="#ios">17. iOS</a>
<ul class="sectlevel2">
<li><a href="#requirements_2">17.1. Requirements</a></li>
<li><a href="#project_level_configuration_and_properties_2">17.2. Project-level configuration and properties</a></li>
<li><a href="#layout_level_configuration_and_properties_2">17.3. Layout-level configuration and properties</a></li>
<li><a href="#testing_2">17.4. Testing</a></li>
</ul>
</li>
<li><a href="#macos">18. macOS</a>
<ul class="sectlevel2">
<li><a href="#requirements_3">18.1. Requirements</a></li>
<li><a href="#project_level_configuration_and_properties_3">18.2. Project-level configuration and properties</a></li>
<li><a href="#layout_level_configuration_and_properties_3">18.3. Layout-level configuration and properties</a></li>
</ul>
</li>
<li><a href="#svg">19. SVG</a></li>
<li><a href="#windows_2">20. Windows</a>
<ul class="sectlevel2">
<li><a href="#preparing_build_environment">20.1. Preparing build environment</a></li>
<li><a href="#limitations">20.2. Limitations</a></li>
<li><a href="#mappings_between_modes_in_layout_files_and_windows_keyboards">20.3. Mappings between modes in layout files and Windows keyboards</a></li>
</ul>
</li>
<li><a href="#x11">21. X11</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<a href="https://github.com/divvun/kbdgen">
<img style="position: fixed; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png">
</a>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><em>This documentation is currently under active development.</em></p>
</div>
<div class="paragraph">
<p>Please follow the warnings or errors that the <code>kbdgen</code> tool provides, and if something is missing from the documentation, please open
an issue on GitHub.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<h1 id="introduction_to_kbdgen_0_5_0" class="sect0"><a class="link" href="#introduction_to_kbdgen_0_5_0">Introduction to kbdgen 0.5.0</a></h1>
<div class="sect1">
<h2 id="what_is_kbdgen"><a class="link" href="#what_is_kbdgen">1. What is kbdgen?</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://github.com/divvun/kbdgen"><code>kbdgen</code></a> is a tool for generating keyboards from layout descriptor files defined using YAML.</p>
</div>
<div class="paragraph">
<p>It requires Python 3.4 or higher.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="supported_targets"><a class="link" href="#supported_targets">2. Supported targets</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>kbdgen</code> supports both mobile and desktop keyboards, including a web-based visual layout
for development and debugging your layouts.</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
android
</td>
<td class="hdlist2">
<p>Android target, can be built on any OS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
ios
</td>
<td class="hdlist2">
<p>iOS target, can be built only on macOS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
osx
</td>
<td class="hdlist2">
<p>macOS target, can be built only on macOS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
svg
</td>
<td class="hdlist2">
<p>SVG target, for debugging and development using HTML and SVG, can be built on any OS</p>
</td>
</tr>
<tr>
<td class="hdlist1">
win
</td>
<td class="hdlist2">
<p>Windows 8.1+ target, can be built on Unix-like operating systems (requires wine)</p>
</td>
</tr>
<tr>
<td class="hdlist1">
x11
</td>
<td class="hdlist2">
<p>X11 target, can be built on any OS</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="anatomy_of_a_kbdgen_project"><a class="link" href="#anatomy_of_a_kbdgen_project">3. Anatomy of a kbdgen project</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>A <code>kbdgen</code> project is ordinarily structured with a central <code>project.yaml</code> file defining the project descriptor,
with several other YAML files describing each layout in the same directory, listed in the <code>layouts</code> property
of the project descriptor.</p>
</div>
<div class="paragraph">
<p>Resources for each layout will differ per target, and there is no specified or required directory structure
for storing these resources. When required, properties for resource paths are relative to the project descriptor file.</p>
</div>
<div class="paragraph">
<p>For more information on the project and layout descriptors, see the documentation and examples provided in
the "Projects" and "Layouts" chapters.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="usage"><a class="link" href="#usage">4. Usage</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>kbdgen</code> is a command line application. Running <code>kbdgen --help</code> will provide you with the flags supported.</p>
</div>
<div class="paragraph">
<p>In general, to begin with you will likely want to just run <code>kbdgen -t &lt;target&gt; -o &lt;output-dir&gt; &lt;path/to/project.yaml&gt;</code>.</p>
</div>
<div class="paragraph">
<p>Try with the <code>svg</code> target to get a feel for how it works.</p>
</div>
</div>
</div>
<h1 id="installation" class="sect0"><a class="link" href="#installation">Installation</a></h1>
<div class="openblock partintro">
<div class="content">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Each target may have separate requirements for generating and building the output that <code>kbdgen</code> provides. Please check the Installation section of your desired target before proceeding.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="from_source"><a class="link" href="#from_source">5. From Source</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="unix_like_linux_macos_etc"><a class="link" href="#unix_like_linux_macos_etc">5.1. Unix-like (Linux, macOS, etc)</a></h3>
<div class="paragraph">
<p>You will need Python 3.4 or higher installed to continue. Use your operating system&#8217;s package manager to install the <code>python3</code> package or equivalent.</p>
</div>
<div class="paragraph">
<p>INFO: Depending on your system, your <code>pip</code> binary may be named <code>pip3</code> or some variant thereof, as the <code>pip</code> binary will be for Python 2.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>pip install -r requirements.txt
pip install .</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will also need to install <code>imagemagick</code> or icon generation (and therefore the build) will fail for several targets. On
macOS, this can be installed with MacPorts or Homebrew. (<code>brew install imagemagick</code> or <code>port install imagemagick</code>).</p>
</div>
</div>
<div class="sect2">
<h3 id="windows"><a class="link" href="#windows">5.2. Windows</a></h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Windows support is <em>experimental</em>. It may delete everything on your system, eat your cat or empty your bank account. Here be dragons.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ensure Python 3.4 or higher is installed on your system and Python&#8217;s executables are available in your <code>%PATH%</code>. Using the Command Prompt, run the following commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>pip install -r requirements.txt
pip install .</code></pre>
</div>
</div>
<div class="paragraph">
<p>It is left an exercise for the reader to work out how to install <code>imagemagick</code> on Windows and add it to the <code>%PATH%</code>.</p>
</div>
</div>
</div>
</div>
<h1 id="projects" class="sect0"><a class="link" href="#projects">Projects</a></h1>
<div class="sect1">
<h2 id="example_project_descriptor_file"><a class="link" href="#example_project_descriptor_file">6. Example project descriptor file</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Below shows a typical and basic <code>project.yaml</code> that describes a project localised into
Norwegian Bokmål and English, with target-specific configuration for iOS and Android.</p>
</div>
<div class="listingblock">
<div class="title">Example of a basic project descriptor file</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="comment"># An internal identifier for the project</span>
<span class="key">internalName</span>: <span class="string"><span class="content">project</span></span>

<span class="comment"># Strings for describing the project, using ISO 639-1 or 639-3 tags.</span>
<span class="key">locales</span>:
  <span class="key">en</span>:
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Keyboard Project</span><span class="delimiter">&quot;</span></span>
    <span class="key">description</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">A test keyboard</span><span class="delimiter">&quot;</span></span>
  <span class="key">nb</span>:
    <span class="key">name</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Tastatur</span><span class="delimiter">&quot;</span></span>
    <span class="key">description</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Et testtastatur</span><span class="delimiter">&quot;</span></span>

<span class="comment"># Author and email properties</span>
<span class="key">author</span>: <span class="string"><span class="content">Example Person</span></span>
<span class="key">email</span>: <span class="string"><span class="content">person@place.example</span></span>

<span class="comment"># Optional organisation and copyright properties</span>
<span class="key">organisation</span>: <span class="string"><span class="content">Example Corp</span></span>
<span class="key">copyright</span>: <span class="string"><span class="content">Copyright © 2017 Example Corp</span></span>

<span class="comment"># Layouts supported by this project, without .yaml suffix</span>
<span class="key">layouts</span>: <span class="string"><span class="content">[layout1, layout2]</span></span>

<span class="comment"># Target-specific configurations at project level (may also include osx, win, etc)</span>
<span class="key">targets</span>:
  <span class="key">android</span>:
    <span class="key">version</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0</span><span class="delimiter">&quot;</span></span>
    <span class="key">build</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>
    <span class="key">packageId</span>: <span class="string"><span class="content">com.example.keyboards</span></span>
  <span class="key">ios</span>:
    <span class="key">version</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0</span><span class="delimiter">&quot;</span></span>
    <span class="key">build</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>
    <span class="key">packageId</span>: <span class="string"><span class="content">com.example.keyboards</span></span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="supported_properties"><a class="link" href="#supported_properties">7. Supported properties</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For target-specific properties, please see the specific chapter for your desired target.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>internalName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The internal identifier for the project. May be used for generating filenames or internal metadata for a project.</p>
<p class="tableblock">Must meet the requirements of the regex: <code>/^[a-z0-9_-]+$/</code>.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">internalName</span>: <span class="string"><span class="content">keyboards</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>locales.&lt;lang&gt;.name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, at least for <code>en</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name string for the project. For mobile keyboards, this is the title of the app.</p>
<p class="tableblock"><code>&lt;lang&gt;</code> is any ISO 639-1 or 639-3 code. If a language has both, prefer the 639-1 variant for better support.</p>
<p class="tableblock">It must be defined for at least the <code>en</code> locale, and preferably also for each well-supported locale that you expect to support.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">locales</span>:
  <span class="key">en</span>:
    <span class="key">name</span>: <span class="string"><span class="content">My Keyboard Project</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>locales.&lt;lang&gt;.description</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, at least for <code>en</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The description of the project.</p>
<p class="tableblock"><code>&lt;lang&gt;</code> is any ISO 639-1 or 639-3 code. If a language has both, prefer the 639-1 variant for better support.</p>
<p class="tableblock">It must be defined for at least the <code>en</code> locale, and preferably also for each well-supported locale that you expect to support.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">locales</span>:
  <span class="key">en</span>:
    <span class="key">description</span>: <span class="string"><span class="content">A keyboard supporting zero languages.</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>author</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The author</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">author</span>: <span class="string"><span class="content">Brendan Molloy</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>email</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The author&#8217;s email address</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">email</span>: <span class="string"><span class="content">brendan@bbqsrc.net</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>organisation</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The associated organisation. Put author here too if no organisation.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">organisation</span>: <span class="string"><span class="content">Divvun</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>copyright</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The copyright string to be used where and if necessary.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">copyright</span>: <span class="string"><span class="content">Copyright © 2017 Divvun</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>layouts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the layouts to be included in this project.</p>
<p class="tableblock">The layout names are the names of the YAML files without the <code>.yaml</code> suffix.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">layouts</span>: <span class="string"><span class="content">[sma, sme, smj]</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targets.&lt;target&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">property map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target dependent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For defining target-specific project-level properties, such as code signing certificates,
build and version numbers, and other resources to be included at a project level.</p>
<p class="tableblock">See the documentation for each target for more information.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">targets</span>:
  <span class="key">android</span>:
    <span class="key">version</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0</span><span class="delimiter">&quot;</span></span>
    <span class="key">build</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>
    <span class="key">packageId</span>: <span class="string"><span class="content">com.example.keyboards</span></span></code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="best_practices"><a class="link" href="#best_practices">8. Best practices</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These best practices are a work-in-progress. If you have a suggestion, please submit an issue on GitHub.
</td>
</tr>
</table>
</div>
</div>
</div>
<h1 id="layouts" class="sect0"><a class="link" href="#layouts">Layouts</a></h1>
<div class="sect1">
<h2 id="structure_of_a_layout_descriptor_file"><a class="link" href="#structure_of_a_layout_descriptor_file">9. Structure of a layout descriptor file</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Layout descriptors, like project descriptors, are defined using YAML.</p>
</div>
<div class="paragraph">
<p>At the highest level, a layout consists of several modes which define how the
layout should behave when different layers are enabled. There are distinct modes
for mobile and desktop keyboards, and the same layout file may incorporate
both modes if the user desires.</p>
</div>
<div class="paragraph">
<p>Layouts support a <code>supportedTargets</code> property so that a layout may be defined to
only function with certain targets. This allows the keyboard developer to separate
Windows layouts from Mac layouts, or separate mobile from desktop layouts, depending
on the relevant use case for the developer.</p>
</div>
<div class="paragraph">
<p>Keys and transform outputs may be multi-codepoint. Simply type the output you expect in
the descriptor and it will be generated correctly, as layout modes are space-delimited only.</p>
</div>
<div class="paragraph">
<p>If you wish to input a unicode codepoint that causes distortion to the layout descriptor,
you may use <code>\u{x}</code> notation, which is just the <code>U+xxxx</code> codepoint written as <code>\u{xxxx}</code>. The
Examples section shows this in use several times.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is of fundamental importance that the <code>internalName</code> for each layout is
unique. While the <code>kbdgen</code> generator should have an error in the case of user error,
it has previously caused undefined behaviour.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mobile_layouts"><a class="link" href="#mobile_layouts">10. Mobile layouts</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mobile layouts consist of the modes <code>mobile-default</code> and <code>mobile-shift</code>. These modes
are currently used with the <code>android</code> and <code>ios</code> targets.</p>
</div>
<div class="paragraph">
<p>Mobile layouts support the <code>longpress</code> property, which defines a space-delimited set of characters
to be able to be selected by the user when they long press the defined key.</p>
</div>
<div class="paragraph">
<p>The <code>styles</code> property defines the behaviour of the special keys depending on the size and shape
of the device. <strong>At the moment this property is required.</strong> You may simply copy and paste this boilerplate
into your projects.</p>
</div>
<div class="paragraph">
<p>The <code>strings</code> property defines the strings to be shown on the spacebar and return keys. While these are not
strictly required, it is highly recommended that you set these before deploying into production for the best
user experience, particularly on iOS.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="desktop_layouts"><a class="link" href="#desktop_layouts">11. Desktop layouts</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>A desktop layout consists of keys for each mode, dead key definitions (using <code>deadKeys</code>) and a transforms map
(<code>transforms</code>) for defining key sequences to output specific glyphs. Transforms may be infinitely nested in this format,
it is up to the platform to determine how many levels of nesting are considered reasonable.</p>
</div>
<div class="sect2">
<h3 id="modes"><a class="link" href="#modes">11.1. Modes</a></h3>
<div class="paragraph">
<p>Modes are defined as a space-delimited and newline-delimited set of characters for use as keys
on a keyboard. The expected keyboard layout is the ISO standard keyboard (not the ANSI US keyboard,
which has one less key).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="keyboard.svg" alt="keyboard">
</div>
<div class="title">Figure 1. The ISO standard keyboard layout showing potential variations in colour</div>
</div>
<div class="paragraph">
<p><code>kbdgen</code> supports E00–E12, D01–D12, C01–C12, and B00–10 as per traditional European ISO standard keyboards. In practice, for ANSI keyboards,
C12 moves to D13, and B00 is simply dropped altogether. B11 is not used on any modern keyboard, and E13 is largely ignored.</p>
</div>
<div class="paragraph">
<p>If you forget to add the <code>|</code> symbol after the mode key, you will encounter some fun parsing errors.
Don&#8217;t forget the pipe!</p>
</div>
<div class="paragraph">
<p>Desktop layouts consist of several modes due to the complexity of desktop keyboards:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>iso-default</p>
</li>
<li>
<p>iso-shift</p>
</li>
<li>
<p>iso-caps</p>
</li>
<li>
<p>iso-caps+shift</p>
</li>
<li>
<p>iso-alt</p>
</li>
<li>
<p>iso-alt+shift</p>
</li>
<li>
<p>iso-caps+alt</p>
</li>
<li>
<p>iso-ctrl</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are also a few target-specific modes for macOS due to the addition of the Command key on macOS
keyboards:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>osx-cmd</p>
</li>
<li>
<p>osx-cmd+shift</p>
</li>
<li>
<p>osx-cmd+alt</p>
</li>
<li>
<p>osx-cmd+alt+shift</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is possible that further modes may be supported in the future if necessary.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="supported_properties_2"><a class="link" href="#supported_properties_2">12. Supported properties</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For target-specific properties, please see the specific chapter for your desired target.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>internalName</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The internal identifier for the layout. May be used for generating filenames or internal metadata for a layout.</p>
<p class="tableblock">Must meet the requirements of the regex: <code>/^[a-z0-9_-]+$/</code>. A good choice is to use the locale code.</p>
<p class="tableblock"><strong>This SHOULD NOT change between versions!</strong> If you change this, targets such as Android will display unexpected behaviour
when you update your keyboards.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">internalName</span>: <span class="string"><span class="content">sma</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>displayNames.&lt;lang&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes, at least for <code>en</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the layout.</p>
<p class="tableblock"><code>&lt;lang&gt;</code> is any ISO 639-1 or 639-3 code. If a language has both, prefer the 639-1 variant for better support.</p>
<p class="tableblock">It must be defined for at least the <code>en</code> locale, and preferably also for each well-supported locale that you expect to support.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">displayNames</span>:
  <span class="key">en</span>: <span class="string"><span class="content">Southern Sámi</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>locale</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The locale for the layout.</p>
<p class="tableblock">Locale is any ISO 639-1 or 639-3 code. If a language has both, prefer the 639-1 variant for better support.</p>
<p class="tableblock">For platforms that do not support the correct locale code for this layout, target-specific overrides may be
defined. Please check the relevant target documentation for more information.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">locale</span>: <span class="string"><span class="content">sma</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>targets.&lt;target&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A map of target-specific customisation properties.</p>
<p class="tableblock"><code>&lt;target&gt;</code> is the code for the target.</p>
<p class="tableblock">Only necessary if you need to set a target-specific property.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">targets</span>:
  <span class="key">win</span>:
    <span class="key">locale</span>: <span class="string"><span class="content">sma-Latn-NO</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>modes.&lt;mode&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">layout-formatted string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes (see description)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For mobile targets, both <code>mobile-default</code> and <code>mobile-shift</code> modes are required.</p>
<p class="tableblock">For desktop targets, in general only the <code>iso-default</code> and <code>iso-shift</code> modes are strictly
required. Some targets require other modes, and the tool will inform you if they are missing.</p>
<p class="tableblock">The value of this key should be similar to that provided in the example.</p>
<p class="tableblock">NOTE: Do not forget the <code>|</code> symbol after the <code>&lt;mode&gt;</code> key or you will receive unexpected parsing
errors.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">modes</span>:
  <span class="key">mobile-default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    q w e r t y u i o p å
    a s d f g h j k l ö æ
    z x c v b n m ï</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deadKeys.&lt;mode&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the dead keys on the given <code>&lt;mode&gt;</code>, which is the key for the mode from the <code>modes</code> property.</p>
<p class="tableblock">It is recommended that the keys of this array are wrapped in quotes to make diaeresis and other hard to
see glyphs maintainable for future developers, including yourself.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">deadKeys</span>:
  <span class="key">iso-default</span>: <span class="string"><span class="content">[&quot;`&quot;]</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>transforms</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nested string maps</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the output of a sequence of key strokes.</p>
<p class="tableblock">Always includes deadkeys but some targets support key sequencing (replacing glyphs based on input pattern) — this behaviour is target dependent.</p>
<p class="tableblock">This map may be repeatedly nested until a terminal is reached. If a sequence is short-circuited, the <code>" "</code> is used as the fallback output in all cases.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">transforms</span>:
  <span class="key">a</span>:
    <span class="key"><span class="delimiter">'</span><span class="content"> </span><span class="delimiter">'</span></span>: <span class="string"><span class="content">a</span></span>
    <span class="key">`</span>: <span class="string"><span class="content">à</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>special.&lt;key&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">These properties are used for setting key outputs for keys outside of the input key area, such as spacebar.</p>
<p class="tableblock">Currently the only supported <code>&lt;key&gt;</code> is <code>space</code>.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">special</span>:
  <span class="key">space</span>:
    <span class="key">iso-caps</span>: <span class="string"><span class="content">\u{A0}</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>strings.&lt;key&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">These properties are only used on mobile targets.</p>
<p class="tableblock">They are used for specifying strings to be shown on the <code>space</code> and <code>return</code> keys on mobile targets.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">strings</span>:
  <span class="key">space</span>: <span class="string"><span class="content">space</span></span>
  <span class="key">return</span>: <span class="string"><span class="content">return</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>decimal</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No (defaults to ".")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specify the decimal separator for the given locale. Required for the numpad keys on some targets.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">decimal</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>supportedTargets</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">string array</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No (defaults to all targets)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of the supported targets of this layout. Unlisted targets will result in no generation being attempted for that target.</p>
<p class="tableblock">This is useful for having different definitions for the same layout, such as a separate Windows and macOS variant.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">supportedTargets</span>: <span class="string"><span class="content">[osx, x11, svg]</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>styles</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mobile styles map</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No (Yes for mobile)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This boilerplate is currently required for mobile targets. It is targeted for deprecation.</p>
<p class="tableblock">Just copy and paste it verbatim into your mobile layouts for a happy life.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">styles</span>:
  <span class="key">tablet</span>:
    <span class="key">actions</span>:
      <span class="key">backspace</span>: <span class="string"><span class="content">[1, right, fill]</span></span>
      <span class="key">enter</span>: <span class="string"><span class="content">[2, right, fill]</span></span>
      <span class="key">shift</span>: <span class="string"><span class="content">[3, both, fill]</span></span>
  <span class="key">phone</span>:
    <span class="key">actions</span>:
      <span class="key">shift</span>: <span class="string"><span class="content">[3, left, fill]</span></span>
      <span class="key">backspace</span>: <span class="string"><span class="content">[3, right, fill]</span></span></code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="link" href="#examples">13. Examples</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="mobile_layout_example"><a class="link" href="#mobile_layout_example">13.1. Mobile layout example</a></h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">internalName</span>: <span class="string"><span class="content">sma</span></span>

<span class="key">displayNames</span>:
  <span class="key">sma</span>: <span class="string"><span class="content">Åarjelsaemien gïele</span></span>
  <span class="key">en</span>: <span class="string"><span class="content">South Sami</span></span>
  <span class="key">fi</span>: <span class="string"><span class="content">Eteläsaame</span></span>
  <span class="key">nb</span>: <span class="string"><span class="content">Sørsamisk</span></span>
  <span class="key">se</span>: <span class="string"><span class="content">Lullisámegiella</span></span>
  <span class="key">sv</span>: <span class="string"><span class="content">Sydsamiska</span></span>

<span class="key">locale</span>: <span class="string"><span class="content">sma</span></span>

<span class="key">supportedTargets</span>: <span class="string"><span class="content">[ios, android]</span></span>

<span class="key">modes</span>:
  <span class="key">mobile-default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    q w e r t y u i o p å
    a s d f g h j k l ö æ
    z x c v b n m ï</span></span>
  <span class="key">mobile-shift</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    Q W E R T Y U I O P Å
    A S D F G H J K L Ö Æ
    Z X C V B N M Ï</span></span>

<span class="key">longpress</span>:
  <span class="key">A</span>: <span class="string"><span class="content">Ä Á À Â Ã Ạ</span></span>
  <span class="key">E</span>: <span class="string"><span class="content">Ë É È Ê Ẽ Ẹ</span></span>
  <span class="key">I</span>: <span class="string"><span class="content">Ï Í Ì Î Ĩ Ị</span></span>
  <span class="key">O</span>: <span class="string"><span class="content">Ø Ö Ó Ò Ô Õ Ọ</span></span>
  <span class="key">U</span>: <span class="string"><span class="content">Ü Ú Ù Û Ũ Ụ</span></span>
  <span class="key">Y</span>: <span class="string"><span class="content">Ÿ Ý Ỳ Ŷ</span></span>
  <span class="key">Æ</span>: <span class="string"><span class="content">Ä</span></span>
  <span class="key">Ö</span>: <span class="string"><span class="content">Ø</span></span>

  <span class="key">C</span>: <span class="string"><span class="content">Č Ç</span></span>
  <span class="key">D</span>: <span class="string"><span class="content">Đ</span></span>
  <span class="key">G</span>: <span class="string"><span class="content">Ǧ Ǥ Ǧ</span></span>
  <span class="key">K</span>: <span class="string"><span class="content">Ǩ</span></span>
  <span class="key">N</span>: <span class="string"><span class="content">Ŋ</span></span>
  <span class="key">S</span>: <span class="string"><span class="content">Š</span></span>
  <span class="key">T</span>: <span class="string"><span class="content">Ŧ</span></span>
  <span class="key">Z</span>: <span class="string"><span class="content">Ž Ʒ Ǯ</span></span>

  <span class="key">a</span>: <span class="string"><span class="content">ä á à â ã ạ</span></span>
  <span class="key">e</span>: <span class="string"><span class="content">ë é è ê ẽ ẹ</span></span>
  <span class="key">i</span>: <span class="string"><span class="content">ï í ì î ĩ ị</span></span>
  <span class="key">o</span>: <span class="string"><span class="content">ø ö ó ò ô õ ọ</span></span>
  <span class="key">u</span>: <span class="string"><span class="content">ü ú ù û ũ ụ</span></span>
  <span class="key">y</span>: <span class="string"><span class="content">ÿ ý ỳ ŷ</span></span>
  <span class="key">æ</span>: <span class="string"><span class="content">ä</span></span>
  <span class="key">ö</span>: <span class="string"><span class="content">ø</span></span>

  <span class="key">c</span>: <span class="string"><span class="content">č ç</span></span>
  <span class="key">d</span>: <span class="string"><span class="content">đ</span></span>
  <span class="key">g</span>: <span class="string"><span class="content">ǧ ǥ ǧ</span></span>
  <span class="key">k</span>: <span class="string"><span class="content">ǩ</span></span>
  <span class="key">n</span>: <span class="string"><span class="content">ŋ</span></span>
  <span class="key">s</span>: <span class="string"><span class="content">š</span></span>
  <span class="key">t</span>: <span class="string"><span class="content">ŧ</span></span>
  <span class="key">z</span>: <span class="string"><span class="content">ž ʒ ǯ</span></span>

<span class="key">styles</span>:
  <span class="key">tablet</span>:
    <span class="key">actions</span>:
      <span class="key">backspace</span>: <span class="string"><span class="content">[1, right, fill]</span></span>
      <span class="key">enter</span>: <span class="string"><span class="content">[2, right, fill]</span></span>
      <span class="key">shift</span>: <span class="string"><span class="content">[3, both, fill]</span></span>
  <span class="key">phone</span>:
    <span class="key">actions</span>:
      <span class="key">shift</span>: <span class="string"><span class="content">[3, left, fill]</span></span>
      <span class="key">backspace</span>: <span class="string"><span class="content">[3, right, fill]</span></span>

<span class="key">strings</span>:
  <span class="key">space</span>: <span class="string"><span class="content">gaskoe</span></span>
  <span class="key">return</span>: <span class="string"><span class="content">return</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="windows_desktop_layout_example"><a class="link" href="#windows_desktop_layout_example">13.2. Windows desktop layout example</a></h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">internalName</span>: <span class="string"><span class="content">sma_NO-windows</span></span>

<span class="key">displayNames</span>:
  <span class="key">sma</span>: <span class="string"><span class="content">Åarjelsaemien gïele (Nöörje)</span></span>
  <span class="key">en</span>: <span class="string"><span class="content">South Sami (Norway)</span></span>
  <span class="key">fi</span>: <span class="string"><span class="content">Eteläsaame (Norja)</span></span>
  <span class="key">nb</span>: <span class="string"><span class="content">Sørsamisk (Norge)</span></span>
  <span class="key">se</span>: <span class="string"><span class="content">Lullisámegiella (Norga)</span></span>
  <span class="key">sv</span>: <span class="string"><span class="content">Sydsamiska (Norge)</span></span>

<span class="key">locale</span>: <span class="string"><span class="content">sma</span></span>

<span class="key">supportedTargets</span>: <span class="string"><span class="content">[win, x11, svg]</span></span>

<span class="key">targets</span>:
  <span class="key">win</span>:
    <span class="key">locale</span>: <span class="string"><span class="content">sma-Latn-NO</span></span>

<span class="key">modes</span>:
  <span class="key">iso-default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    | 1 2 3 4 5 6 7 8 9 0 + \
    ï w e r t y u i o p å ¨
    a s d f g h j k l ö æ '
    &lt; z x c v b n m , . -</span></span>
  <span class="key">iso-shift</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    § ! &quot; # ¤ % &amp; / ( ) = ? `
    Ï W E R T Y U I O P Å ^
    A S D F G H J K L Ö Æ *
    &gt; Z X C V B N M ; : _</span></span>
  <span class="key">iso-caps</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    | 1 2 3 4 5 6 7 8 9 0 + \
    Ï W E R T Y U I O P Å ¨
    A S D F G H J K L Ö Æ '
    &lt; Z X C V B N M , . -</span></span>
  <span class="error">iso-caps+shift</span>: <span class="error">|</span>
    <span class="error">§ ! &quot; # ¤ % &amp; / ( ) = ? `</span>
    <span class="error">ï w e r t y u i o p å ^</span>
    <span class="error">a s d f g h j k l ö æ *</span>
    <span class="error">&gt; z x c v b n m ; : _</span>
  <span class="key">iso-alt</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    \u{0} \u{0} @ £ $ € \u{0} { [ ] } \u{0} ´
    q â € \u{0} ŧ \u{0} \u{0} ï õ \u{0} \u{0} ~
    á š đ ǥ ǧ ȟ \u{0} ǩ \u{0} ø ä \u{0}
    \u{0} ž \u{0} č ǯ ʒ ŋ µ \u{0} \u{0} \u{0}</span></span>
  <span class="error">iso-alt+shift</span>: <span class="error">|</span>
    <span class="error">\u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0} \u{0}</span>
    <span class="error">Q Â \u{0} \u{0} Ŧ \u{0} \u{0} Ï Õ \u{0} \u{0} \u{0}</span>
    <span class="error">Á Š Đ Ǥ Ǧ Ȟ \u{0} Ǩ \u{0} Ø Ä \u{0}</span>
    <span class="error">\u{0} Ž \u{0} Č Ǯ Ʒ Ŋ \u{0} \u{0} \u{0} \u{0}</span>

<span class="key">deadKeys</span>:
  <span class="key">iso-default</span>: <span class="string"><span class="content">['¨']</span></span>
  <span class="key">iso-shift</span>: <span class="string"><span class="content">['^', '`']</span></span>
  <span class="key">iso-caps</span>: <span class="string"><span class="content">['¨']</span></span>
  <span class="error">iso-caps+shift</span>: [<span class="error">'^', '`']</span>
  <span class="key">iso-alt</span>: <span class="string"><span class="content">['~', '´']</span></span>

<span class="key">transforms</span>:
  <span class="key"><span class="delimiter">&quot;</span><span class="content">`</span><span class="delimiter">&quot;</span></span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">`</span><span class="delimiter">&quot;</span></span>
    <span class="key">a</span>: <span class="string"><span class="content">à</span></span>
    <span class="key">A</span>: <span class="string"><span class="content">À</span></span>
    <span class="key">e</span>: <span class="string"><span class="content">è</span></span>
    <span class="key">E</span>: <span class="string"><span class="content">È</span></span>
  <span class="key">´</span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="content">´</span></span>
    <span class="key">a</span>: <span class="string"><span class="content">á</span></span>
    <span class="key">A</span>: <span class="string"><span class="content">Á</span></span>
    <span class="key">å</span>: <span class="string"><span class="content">ǻ</span></span>
    <span class="key">Å</span>: <span class="string"><span class="content">Ǻ</span></span>
  <span class="key">^</span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="content">^</span></span>
    <span class="key">a</span>: <span class="string"><span class="content">â</span></span>
    <span class="key">A</span>: <span class="string"><span class="content">Â</span></span>
    <span class="key">c</span>: <span class="string"><span class="content">ĉ</span></span>
    <span class="key">C</span>: <span class="string"><span class="content">Ĉ</span></span>
  <span class="key">¨</span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="content">¨</span></span>
    <span class="key">a</span>: <span class="string"><span class="content">ä</span></span>
    <span class="key">A</span>: <span class="string"><span class="content">Ä</span></span>
    <span class="key">e</span>: <span class="string"><span class="content">ë</span></span>
    <span class="key">E</span>: <span class="string"><span class="content">Ë</span></span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">~</span><span class="delimiter">&quot;</span></span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">~</span><span class="delimiter">&quot;</span></span>
    <span class="key">a</span>: <span class="string"><span class="content">ã</span></span>
    <span class="key">A</span>: <span class="string"><span class="content">Ã</span></span>
    <span class="key">i</span>: <span class="string"><span class="content">ĩ</span></span>
    <span class="key">I</span>: <span class="string"><span class="content">Ĩ</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="macos_desktop_layout_example"><a class="link" href="#macos_desktop_layout_example">13.3. macOS desktop layout example</a></h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">internalName</span>: <span class="string"><span class="content">sma_NO-mac</span></span>

<span class="key">displayNames</span>:
  <span class="key">sma</span>: <span class="string"><span class="content">Åarjelsaemien gïele (Nöörje)</span></span>
  <span class="key">en</span>: <span class="string"><span class="content">South Sami (Norway)</span></span>
  <span class="key">fi</span>: <span class="string"><span class="content">Eteläsaame (Norja)</span></span>
  <span class="key">nb</span>: <span class="string"><span class="content">Sørsamisk (Norge)</span></span>
  <span class="key"><span class="delimiter">'</span><span class="content">no</span><span class="delimiter">'</span></span>: <span class="string"><span class="content">Sørsamisk (Norge)</span></span>
  <span class="key">nn</span>: <span class="string"><span class="content">Sørsamisk (Noreg)</span></span>
  <span class="key">da</span>: <span class="string"><span class="content">Sydsamisk (Norge)</span></span>
  <span class="key">se</span>: <span class="string"><span class="content">Lullisámegiella (Norga)</span></span>
  <span class="key">sv</span>: <span class="string"><span class="content">Sydsamiska (Norge)</span></span>

<span class="key">locale</span>: <span class="string"><span class="content">sma</span></span>

<span class="key">supportedTargets</span>: <span class="string"><span class="content">[osx, x11, svg]</span></span>

<span class="key">modes</span>:
  <span class="key">iso-default</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    &lt; 1 2 3 4 5 6 7 8 9 0 + ´
    ï w e r t y u i o p å ¨
    a s d f g h j k l ö æ @
    ' z x c v b n m , . -</span></span>
  <span class="key">iso-shift</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    &gt; ! &quot; # $ % &amp; / ( ) = ? `
    Ï W E R T Y U I O P Å ˆ
    A S D F G H J K L Ö Æ *
    § Z X C V B N M ; : _</span></span>
  <span class="key">iso-caps</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    &lt; 1 2 3 4 5 6 7 8 9 0 + ´
    Ï W E R T Y U I O P Å ¨
    A S D F G H J K L Ö Æ @
    ' Z X C V B N M , . -</span></span>
  <span class="key">iso-alt</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    ≤ © ™ £ € ‸ § | [ ] ˝ ± \u{301}
    q , é ˇ þ ˘ ˀ ʼ œ ˙ ˚ \u{308}
    ¯ ß ð ƒ . ˛ \u{A0}\u{330} ˜ - ø ä '
    ' ÷ ˍ ¸ ‹ › ‘ ’ ‚ … –</span></span>
  <span class="error">iso-alt+shift</span>: <span class="error">|</span>
    <span class="error">≥ ¡ ® ¥ ¢ \u{32D} ¶ \ { } \u{30B} ¿ \u{300}</span>
    <span class="error">Q \u{326} É \u{30C} Þ \u{306} \u{309} \u{31B} Œ \u{307} \u{30A} \u{302}</span>
    <span class="error">\u{304} № Ð ʔ \u{323} \u{328} \u{330} \u{303} \u{335} Ø Ä &quot;</span>
    <span class="error">§ ⁄ \u{331} \u{327} « » “ ” „ · —</span>
  <span class="error">iso-caps+alt</span>: <span class="error">|</span>
    <span class="error">≤ © ™ £ € ‸ § | [ ] ˝ ± \u{301}</span>
    <span class="error">Q , É ˇ Þ ˘ ˀ ʼ Œ ˙ ˚ \u{308}</span>
    <span class="error">¯ SS Ð ƒ . ˛ \u{A0}\u{330} ˜ - Ø Ä '</span>
    <span class="error">' ÷ ˍ ¸ ‹ › ‘ ’ ‚ … –</span>
  <span class="key">iso-ctrl</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    ` 1 2 3 4 5 6 7 8 9 0 \u{1F} =
    \u{11} \u{17} \u{5} \u{12} \u{14} \u{19} \u{15} \u{9} \u{F} \u{10} \u{1D} ~
    \u{1} \u{13} \u{4} \u{6} \u{7} \u{8} \u{A} \u{B} \u{C} ; ' \u{1C}
    0 \u{1A} \u{18} \u{3} \u{16} \u{2} \u{E} \u{D} , . /</span></span>
  <span class="key">osx-cmd</span>: <span class="string"><span class="delimiter">|</span><span class="content">
    ' 1 2 3 4 5 6 7 8 9 0 + ´
    q w e r t y u i o p å ¨
    a s d f g h j k l ø æ @
    &lt; z x c v b n m , . -</span></span>
  <span class="error">osx-cmd+shift</span>: <span class="error">|</span>
    <span class="error">§ ! &quot; # $ % &amp; / ( ) = ? `</span>
    <span class="error">Q W E R T Y U I O P Å ^</span>
    <span class="error">A S D F G H J K L Ø Æ *</span>
    <span class="error">&gt; Z X C V B N M ; : _</span>
  <span class="error">osx-cmd+alt</span>: <span class="error">|</span>
    <span class="error">€ © ™ £ € ∞ § | [ ] ≈ ± `</span>
    <span class="error">• Ω é \u{0} † µ ü ı œ π ˙ ~</span>
    <span class="error"> ß ∂ ƒ ¸ ˛ √ ª ﬁ ö ä '</span>
    <span class="error">≤ ÷ ≈ ç ‹ › ‘ ’ ‚ … –</span>
  <span class="error">osx-cmd+alt+shift</span>: <span class="error">|</span>
    <span class="error">Ÿ ¡ ® ¥ ¢ ‰ ¶ \ { } ≠ ¿ \u{0}</span>
    <span class="error">° ˝ É \u{0} ‡ ˜ Ü ˆ Œ ∏ ˚ ^</span>
    <span class="error">◊ ∑ ∆ ∫ ¯ ˘ ¬ º ﬂ Ö Ä \u{0}</span>
    <span class="error">≥ ⁄ \u{0} Ç « » “ ” „ · —</span>

<span class="key">deadKeys</span>:
  <span class="key">iso-default</span>: <span class="string"><span class="content">['¨', '´']</span></span>
  <span class="key">iso-shift</span>: <span class="string"><span class="content">['`', 'ˆ']</span></span>
  <span class="key">iso-caps</span>: <span class="string"><span class="content">['¨', '´']</span></span>
  <span class="key">iso-alt</span>: <span class="string"><span class="content">[',', '-', '.', '¯', '¸', 'ʼ', 'ˀ', 'ˇ', 'ˍ', '˘', '˙', '˚', '˛', '˜', '˝', '‸', '\u{A0}\u{330}']</span></span>
  <span class="error">iso-alt+shift</span>: [<span class="error">'ʔ', '№']</span>
  <span class="error">iso-caps+alt</span>: [<span class="error">',', '-', '.', '¯', '¸', 'ʼ', 'ˀ', 'ˇ', 'ˍ', '˘', '˙', '˚', '˛', '˜', '˝', '‸']</span>
  <span class="error">osx-cmd+alt</span>: [<span class="error">'¸', '˙']</span>

<span class="key">transforms</span>:
  <span class="error">\u{A0}\u{330}</span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="content">\u{A0}\u{330}</span></span>
    <span class="key">e</span>: <span class="string"><span class="content">ḛ</span></span>
    <span class="key">E</span>: <span class="string"><span class="content">Ḛ</span></span>
    <span class="key">i</span>: <span class="string"><span class="content">ḭ</span></span>
    <span class="key">I</span>: <span class="string"><span class="content">Ḭ</span></span>
    <span class="key">u</span>: <span class="string"><span class="content">ṵ</span></span>
    <span class="key">U</span>: <span class="string"><span class="content">Ṵ</span></span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">-</span><span class="delimiter">&quot;</span></span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">-</span><span class="delimiter">&quot;</span></span>
    <span class="key">b</span>: <span class="string"><span class="content">ƀ</span></span>
    <span class="key">d</span>: <span class="string"><span class="content">đ</span></span>
    <span class="key">D</span>: <span class="string"><span class="content">Đ</span></span>
    <span class="key">g</span>: <span class="string"><span class="content">ǥ</span></span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">,</span><span class="delimiter">&quot;</span></span>
    <span class="key">s</span>: <span class="string"><span class="content">ș</span></span>
    <span class="key">S</span>: <span class="string"><span class="content">Ș</span></span>
    <span class="key">t</span>: <span class="string"><span class="content">ț</span></span>
    <span class="key">T</span>: <span class="string"><span class="content">Ț</span></span>
  <span class="key">.</span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="content">.</span></span>
    <span class="key">a</span>: <span class="string"><span class="content">ạ</span></span>
    <span class="key">A</span>: <span class="string"><span class="content">Ạ</span></span>
    <span class="key">b</span>: <span class="string"><span class="content">ḅ</span></span>
    <span class="key">B</span>: <span class="string"><span class="content">Ḅ</span></span>
  <span class="key">‸</span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="content">‸</span></span>
    <span class="key">d</span>: <span class="string"><span class="content">ḓ</span></span>
    <span class="key">D</span>: <span class="string"><span class="content">Ḓ</span></span>
    <span class="key">e</span>: <span class="string"><span class="content">ḙ</span></span>
    <span class="key">E</span>: <span class="string"><span class="content">Ḙ</span></span>
  <span class="key"><span class="delimiter">&quot;</span><span class="content">`</span><span class="delimiter">&quot;</span></span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">`</span><span class="delimiter">&quot;</span></span>
    <span class="key">a</span>: <span class="string"><span class="content">à</span></span>
    <span class="key">A</span>: <span class="string"><span class="content">À</span></span>
    <span class="key">e</span>: <span class="string"><span class="content">è</span></span>
    <span class="key">E</span>: <span class="string"><span class="content">È</span></span>
  <span class="key">´</span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="content">´</span></span>
    <span class="key">a</span>: <span class="string"><span class="content">á</span></span>
    <span class="key">A</span>: <span class="string"><span class="content">Á</span></span>
    <span class="key">å</span>: <span class="string"><span class="content">ǻ</span></span>
    <span class="key">Å</span>: <span class="string"><span class="content">Ǻ</span></span>
  <span class="key">˜</span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">~</span><span class="delimiter">&quot;</span></span>
    <span class="key">a</span>: <span class="string"><span class="content">ã</span></span>
    <span class="key">A</span>: <span class="string"><span class="content">Ã</span></span>
    <span class="key">y</span>: <span class="string"><span class="content">ỹ</span></span>
    <span class="key">Y</span>: <span class="string"><span class="content">Ỹ</span></span>
  <span class="key">¯</span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="content">¯</span></span>
    <span class="key">a</span>: <span class="string"><span class="content">ā</span></span>
    <span class="key">l</span>: <span class="string"><span class="content">l\u{323}\u{304}</span></span>
    <span class="key">L</span>: <span class="string"><span class="content">L\u{323}\u{304}</span></span>
    <span class="key">æ</span>: <span class="string"><span class="content">ǣ</span></span>
    <span class="key">Æ</span>: <span class="string"><span class="content">Ǣ</span></span>
  <span class="key">ʼ</span>:
    <span class="key"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="content">ʼ</span></span>
    <span class="key">o</span>: <span class="string"><span class="content">ơ</span></span>
    <span class="key">O</span>: <span class="string"><span class="content">Ơ</span></span>
    <span class="key">u</span>: <span class="string"><span class="content">ư</span></span>
    <span class="key">U</span>: <span class="string"><span class="content">Ư</span></span>

<span class="key">special</span>:
  <span class="key">space</span>:
    <span class="key">iso-caps</span>: <span class="string"><span class="content">\u{A0}</span></span>
    <span class="key">iso-alt</span>: <span class="string"><span class="content">\u{A0}</span></span>
    <span class="error">iso-alt+shift</span>: <span class="error">\u{A0}</span>
    <span class="error">iso-caps+alt</span>: <span class="error">\u{A0}</span>
    <span class="error">osx-cmd+alt</span>: <span class="error">\u{A0}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="best_practices_2"><a class="link" href="#best_practices_2">14. Best practices</a></h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These best practices are a work-in-progress. If you have a suggestion, please submit an issue on GitHub.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As you can see from the examples, in some cases, macOS and Windows keyboards diverge significantly enough that
two separate layouts are defined. While it is still possible to generate a macOS and Windows keyboard from the
same source, consider user expectations when decided whether or not to split the layouts into separate files.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generating_layouts_from_cldr_with_cldr2kbdgen"><a class="link" href="#generating_layouts_from_cldr_with_cldr2kbdgen">15. Generating layouts from CLDR with cldr2kbdgen</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>kbdgen</code> includes a tool called <code>cldr2kbdgen</code>, which will convert a CLDR keyboard XML descriptor
into a fully functional <code>kbdgen</code> layout.</p>
</div>
<div class="paragraph">
<p>You can acquire a CLDR keyboard repository from the <a href="http://cldr.unicode.org/index/downloads">Unicode</a> website.
Choose the latest from the Data column, then select the <code>cldr-keyboards-x.y.z.zip</code> file.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
If converting a macOS keyboard and the E00 (top left) and B00 (bottom left) keys are flipped, this is a known
issue with some CLDR definitions. Add the <code>--osx</code> flag to the <code>cldr2kbdgen</code> command and it will auto-flip them back.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Usage is straightforward: <code>cldr2kbdgen &lt;cldr-xml&gt; &lt;path/to/layout.yaml&gt;</code></p>
</div>
</div>
</div>
<h1 id="targets" class="sect0"><a class="link" href="#targets">Targets</a></h1>
<div class="sect1">
<h2 id="android"><a class="link" href="#android">16. Android</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Android target uses a fork of the Android Open Source Project&#8217;s <code>LatinIME</code>
codebase to generate a custom keyboard for Android with the look and feel of the
native keyboard.</p>
</div>
<div class="paragraph">
<p>The target will automatically download the <a href="https://github.com/divvun/giella-ime"><code>giella-ime</code></a>
dependency and cache it for future builds. The cache will automatically be invalidated upon
an update to the repository.</p>
</div>
<div class="sect2">
<h3 id="requirements"><a class="link" href="#requirements">16.1. Requirements</a></h3>
<div class="paragraph">
<p>You will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">JDK 8 or higher</a></p>
</li>
<li>
<p><a href="https://developer.android.com/studio/index.html#command-tools">Android SDK CLI Tools</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="installation_and_environment_configuration"><a class="link" href="#installation_and_environment_configuration">16.2. Installation and environment configuration</a></h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
You will need about 2.6 GB of free space to install the Android SDK dependencies.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Installing the Android development environment</div>
<ol class="arabic">
<li>
<p>Create a directory to host your Android SDK.</p>
</li>
<li>
<p>Export <code>ANDROID_HOME</code> to point to this directory.</p>
</li>
<li>
<p>Unzip the Android SDK CLI tools into <code>$ANDROID_HOME</code> (so you have <code>$ANDROID_HOME/tools</code>).</p>
</li>
<li>
<p>Run <code>yes | $ANDROID_HOME/tools/bin/sdkmanager --licenses</code> to accept the licenses.</p>
</li>
<li>
<p>Run <code>$ANDROID_HOME/tools/bin/sdkmanager tools "build-tools;25.0.3" "extras;android;m2repository" ndk-bundle "platforms;android-25"</code> to install the required dependencies. This may take a long time, and will not show any progress of any kind.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>You should save the <code>ANDROID_HOME</code> export into your <code>.profile</code> so the variable is set when your shell loads.</p>
</div>
</div>
<div class="sect2">
<h3 id="project_level_configuration_and_properties"><a class="link" href="#project_level_configuration_and_properties">16.3. Project-level configuration and properties</a></h3>
<div class="paragraph">
<p>As described in the Projects chapter, some targets may require project-level
properties in order to generate the target.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Android project properties</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>packageId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The reverse-domain notation ID for the package</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">packageId</span>: <span class="string"><span class="content">com.example.mypackageid</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>icon</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No (but recommended)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to the icon file to be converted into the various
sizes required by Android, relative to project root.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">icon</span>: <span class="string"><span class="content">icons/icon.png</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keyStore</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No (Yes for release builds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path to the Android keystore (see "Generating keystores" section for more information)</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">keyStore</span>: <span class="string"><span class="content">my.keystore</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>keyAlias</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No (Yes for release builds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The key to use within the provided keystore</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">keyAlias</span>: <span class="string"><span class="content">myprojectkey</span></span></code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="listingblock">
<div class="title">A full example of the targets section for Android</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">targets</span>:
  <span class="key">android</span>:
    <span class="key">packageId</span>: <span class="string"><span class="content">com.example.amazing.keyboards</span></span>
    <span class="key">icon</span>: <span class="string"><span class="content">icon.png</span></span>
    <span class="key">keyStore</span>: <span class="string"><span class="content">path/to/my/keystore</span></span>
    <span class="key">keyAlias</span>: <span class="string"><span class="content">alias_specified_during_generation</span></span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="layout_level_configuration_and_properties"><a class="link" href="#layout_level_configuration_and_properties">16.4. Layout-level configuration and properties</a></h3>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Android layout properties</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>minimumSdk</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The API level that is the minimum supported for a keyboard. Useful for
limiting access to a keyboard where it is known several glyphs are missing on
older devices.</p>
<p class="tableblock"><a href="https://source.android.com/source/build-numbers.html">See the Android documentation for API versions compared
to OS version</a>.</p>
<p class="tableblock">NOTE: The lowest API supported by this keyboard is API 16, but it <em>may</em> work
on older variants.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">minimumSdk</span>: <span class="string"><span class="content">16</span></span></code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>showNumberHints</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No (defaults to <code>true</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines whether or not the number hints are shown on the top row of keys.</p>
<p class="tableblock">When set to <code>false</code>, no number hints will be shown and any long press keys
defined will be shown in their place.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">showNumberHints</span>: <span class="string"><span class="content">true</span></span></code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="testing"><a class="link" href="#testing">16.5. Testing</a></h3>
<div class="sect3">
<h4 id="testing_on_a_device"><a class="link" href="#testing_on_a_device">16.5.1. Testing on a device</a></h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Different versions of Android have different requirements for enabling
Developer Mode. Use a search engine to find out how to enable USB debugging
for your specific device before continuing.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<div class="title">Connecting an Android device for debugging</div>
<ol class="arabic">
<li>
<p>Connect your Android device to your system</p>
</li>
<li>
<p>Run <code>$ANDROID_HOME/platform-tools/adb install -r &lt;path to apk&gt;</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you receive an error about the package already being installed or signatures
not matching, uninstall the package from the device first.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="generating_keystores"><a class="link" href="#generating_keystores">16.6. Generating keystores</a></h3>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
Use ASCII characters only for your password if you value your sanity.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Make sure you&#8217;ve read the
<a href="http://developer.android.com/tools/publishing/app-signing.html">Signing Your Applications</a>
page from the Android Developers website.</p>
</div>
<div class="paragraph">
<p>It is recommended that you use 4096-bit keys, and name the keystore and
alias your key with the internal name of your project.</p>
</div>
<div class="paragraph">
<p>For example, if my project name was "sami_keyboard", and I wanted the key to
last for 10000 days, I would run the following command:</p>
</div>
<div class="paragraph">
<p><code>keytool -genkey -v -keystore sami_keyboard.keystore -alias sami_keyboard -keyalg RSA -keysize 4096 -validity 10000</code></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p><strong>Make sure you keep your key safe! Don&#8217;t publish it to git or svn.</strong></p>
</div>
</td>
</tr>
</table>
</div>
<div class="quoteblock">
<div class="title">The warning straight from the Android website says:</div>
<blockquote>
<div class="paragraph">
<p>Warning: Keep your keystore and private key in a safe and secure place,
and ensure that you have secure backups of them. If you publish an app to
Google Play and then lose the key with which you signed your app, you will
not be able to publish any updates to your app, since you must always sign
all versions of your app with the same key.</p>
</div>
</blockquote>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ios"><a class="link" href="#ios">17. iOS</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>The iOS target uses a fork of the <a href="https://github.com/archagon/tasty-imitation-keyboard"><code>tasty-imitation-keyboard</code></a>
project to generate a custom keyboard for iOS with the look and feel of the
native keyboard.</p>
</div>
<div class="paragraph">
<p>The target will automatically download the <a href="https://github.com/divvun/giellakbd-ios"><code>giellakbd-ios</code></a>
dependency and cache it for future builds. The cache will automatically be invalidated upon
an update to the repository.</p>
</div>
<div class="sect2">
<h3 id="requirements_2"><a class="link" href="#requirements_2">17.1. Requirements</a></h3>
<div class="paragraph">
<p>You will need:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Xcode</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="project_level_configuration_and_properties_2"><a class="link" href="#project_level_configuration_and_properties_2">17.2. Project-level configuration and properties</a></h3>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
This section is incomplete. Please check the <code>examples/</code> directory in the <code>kbdgen</code> git repository
for guidance.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As described in the Projects chapter, some targets may require project-level
properties in order to generate the target.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. iOS project properties</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
</table>
</div>
<div class="sect2">
<h3 id="layout_level_configuration_and_properties_2"><a class="link" href="#layout_level_configuration_and_properties_2">17.3. Layout-level configuration and properties</a></h3>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
This section is incomplete. Please check the <code>examples/</code> directory in the <code>kbdgen</code> git repository
for guidance.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. iOS layout properties</caption>
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Required</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
</table>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">targets</span>:
  <span class="key">ios</span>:
    <span class="key">bundleName</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Sami Keyboards</span><span class="delimiter">&quot;</span></span>
    <span class="key">packageId</span>: <span class="string"><span class="content">com.example.keyboards.sami</span></span>
    <span class="key">icon</span>: <span class="string"><span class="content">any.png</span></span>
    <span class="key">aboutDir</span>: <span class="string"><span class="content">path/to/about/files</span></span> <span class="comment"># Should contain {locale}.txt files</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="testing_2"><a class="link" href="#testing_2">17.4. Testing</a></h3>
<div class="sect3">
<h4 id="testing_in_a_simulator"><a class="link" href="#testing_in_a_simulator">17.4.1. Testing in a simulator</a></h4>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The simulator does not always fully replicate the behaviour that a user will
experience when using keyboards on a real device.</p>
</div>
<div class="paragraph">
<p>This is especially the case regarding when and where a keyboard can be used in
the simulator.</p>
</div>
<div class="paragraph">
<p>The best app for testing keyboards in the simulator is the <code>Calendar</code> app. It offers
a consistent experience and does not often cause obscure and unreproducable issues
when compared with other simulator apps.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To begin testing in the simulator is straightforward. Open the path provided by
<code>kbdgen</code> after a completed build in Xcode, choose a simulator device from the dropdown
in the main toolbar, and press the "Play" button.</p>
</div>
<div class="paragraph">
<p>Follow the instructions in the provided hosting app to enable the keyboards.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="macos"><a class="link" href="#macos">18. macOS</a></h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
This section is incomplete.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>osx</code> target generates a <code>.pkg</code> file, optionally codesigned, that installs a series of <code>.keylayout</code> files for each layout provided in the project.</p>
</div>
<div class="paragraph">
<p>To sign the package, specify the <code>-R</code> flag while building.</p>
</div>
<div class="sect2">
<h3 id="requirements_3"><a class="link" href="#requirements_3">18.1. Requirements</a></h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This target can only be generated on a macOS system.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You need to install:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ImageMagick</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="project_level_configuration_and_properties_3"><a class="link" href="#project_level_configuration_and_properties_3">18.2. Project-level configuration and properties</a></h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">targets</span>:
  <span class="key">osx</span>:
    <span class="key">bundleName</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">Brendan's Keyboards</span><span class="delimiter">&quot;</span></span>
    <span class="key">packageId</span>: <span class="string"><span class="content">so.brendan.keyboards.sami</span></span>
    <span class="key">codeSignId</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">macOS Installer Certificate ID (find in your Keychain)</span><span class="delimiter">&quot;</span></span>
    <span class="key">icon</span>: <span class="string"><span class="content">any.png</span></span>
    <span class="key">version</span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">1.0.0</span><span class="delimiter">&quot;</span></span> <span class="comment"># should follow x.y.z format</span>
    <span class="key">resources</span>: <span class="string"><span class="content">path/to/resources</span></span> <span class="comment"># optional</span>
    <span class="key">welcome</span>: <span class="string"><span class="content">welcome.txt</span></span> <span class="comment"># or .html or .rtf; optional</span>
    <span class="key">readme</span>: <span class="string"><span class="content">readme.txt</span></span> <span class="comment"># or .html or .rtf; optional</span>
    <span class="key">license</span>: <span class="string"><span class="content">license.txt</span></span> <span class="comment"># or .html or .rtf; optional</span>
    <span class="key">conclusion</span>: <span class="string"><span class="content">conclusion.txt</span></span> <span class="comment"># or .html or .rtf; optional</span>
    <span class="key">background</span>: <span class="string"><span class="content">background.png</span></span> <span class="comment"># or .jpg; optional</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><code>icon</code> will be converted into an <code>.icns</code> file.</p>
</div>
<div class="paragraph">
<p><code>codeSignId</code> must be for a macOS installer distribution certificate, generated by the Team Agent.</p>
</div>
<div class="paragraph">
<p>Resources can be localised. Place readme, welcome, license and conclusion files into <code>zz.lproj</code> directories inside the resources directory, where <code>zz</code> represents a supported language code. Place the background image into the root of the resources directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="layout_level_configuration_and_properties_3"><a class="link" href="#layout_level_configuration_and_properties_3">18.3. Layout-level configuration and properties</a></h3>
<div class="paragraph">
<p>The macOS target supports a few custom modes to facilitate the differences between macOS keyboards and others. Particularly, the <code>cmd</code> key is macOS specific.</p>
</div>
<div class="paragraph">
<p>Therefore, macOS specific modes are supported with the <code>osx-</code> prefix.</p>
</div>
<div class="paragraph">
<p>It is important to supply at least an <code>osx-cmd</code> mode otherwise the <code>cmd</code> key will have no function whatsoever.</p>
</div>
<div class="paragraph">
<p>If you wish to use your <code>iso-default</code> mode as the <code>osx-cmd</code> mode (which is the sanest default), you can use YAML referencing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span class="key">iso-default</span>: <span class="string"><span class="delimiter">|</span></span> <span class="variable">&amp;default</span>
  <span class="error">my keyboard here</span>
<span class="key">osx-cmd</span>: <span class="global-variable">*default</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="svg"><a class="link" href="#svg">19. SVG</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This target exists for the purpose of visualising and debugging keyboard layouts
during development. An HTML index file is generated, including all SVGs necessary
to demonstrate the project.</p>
</div>
<div class="paragraph">
<p>The SVGs show each mode, and the corresponding ISO key code for the mapping. This is
especially useful for correcting missing key errors.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="windows_2"><a class="link" href="#windows_2">20. Windows</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="preparing_build_environment"><a class="link" href="#preparing_build_environment">20.1. Preparing build environment</a></h3>
<div class="sect3">
<h4 id="building_the_windows_target_on_unix_like_operating_systems"><a class="link" href="#building_the_windows_target_on_unix_like_operating_systems">20.1.1. Building the Windows target on Unix-like operating systems</a></h4>
<div class="paragraph">
<p>You will need to install:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>wine</p>
</li>
<li>
<p>winetricks</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
You will need to use wine in 32-bit mode. If you are concerned or unsure, just set WINEARCH="win32" in your environment before beginning.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Run <code>wine</code> at least once to generate a wine prefix.</p>
</div>
<div class="paragraph">
<p>Run <code>winetricks -q dotnet20</code> to install .NET Framework 2.0, required by the keyboard layout creator tools.</p>
</div>
<div class="paragraph">
<p>Download and install the following dependencies into your wine prefix:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="http://www.jrsoftware.org/download.php/is-unicode.exe">Inno Setup 5 (Unicode)</a></p>
</li>
<li>
<p><a href="https://download.microsoft.com/download/1/1/8/118aedd2-152c-453f-bac9-5dd8fb310870/MSKLC.exe">Microsoft Keyboard Layout Creator</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now when you generate the release version of the <code>win</code> target, an installer will be generated that is fully compatible with Windows systems.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="limitations"><a class="link" href="#limitations">20.2. Limitations</a></h3>
<div class="ulist">
<ul>
<li>
<p>Windows does not support Unicode glyphbombs ("grapheme clusters") in deadkeys,
but does support them as ordinary keys.</p>
</li>
<li>
<p>Using <code>iso-caps</code> and <code>iso-caps+shift</code> with Windows is limited to single
codepoints, as the glyphbomb limitation also applies here.</p>
</li>
<li>
<p>Windows keyboard identifiers must be unique, are 8 characters long and
begin with <code>kbd</code>. The next 5 characters are generated from the next 5
alphanumeric characters of the keyboard&#8217;s <code>internalName</code>. For example, if
the <code>internalName</code> of a keyboard is <code>se-1-foo</code>, the internal keyboard name
for Windows will be <code>kbdse1fo</code>.</p>
</li>
<li>
<p>If a keyboard is generated with erroneous data, MSKLC does not provide any
useful error information and merely complains that there was an error and
the file cannot be opened. Please report these files as bugs on GitHub for
investigation.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="mappings_between_modes_in_layout_files_and_windows_keyboards"><a class="link" href="#mappings_between_modes_in_layout_files_and_windows_keyboards">20.3. Mappings between modes in layout files and Windows keyboards</a></h3>
<div class="dlist">
<div class="title">Mappings from kbdgen modes to Windows keyboards</div>
<dl>
<dt class="hdlist1">iso-default</dt>
<dd>
<p>Base keyboard</p>
</dd>
<dt class="hdlist1">iso-shift</dt>
<dd>
<p>Shift pressed</p>
</dd>
<dt class="hdlist1">iso-alt</dt>
<dd>
<p>AltGr (or Ctrl+Alt if keyboard missing AltGr) pressed</p>
</dd>
<dt class="hdlist1">iso-alt+shift</dt>
<dd>
<p>AltGr plus shift</p>
</dd>
<dt class="hdlist1">iso-caps+alt</dt>
<dd>
<p>AltGr plus caps lock</p>
</dd>
<dt class="hdlist1">iso-ctrl</dt>
<dd>
<p>Ctrl pressed (mostly will not work due to OS-level key combinations overriding this layer)</p>
</dd>
</dl>
</div>
<div class="dlist">
<div class="title">Special cased mappings</div>
<dl>
<dt class="hdlist1">iso-caps</dt>
<dd>
<p>Caps lock enabled</p>
</dd>
<dt class="hdlist1">iso-caps+shift</dt>
<dd>
<p>Caps lock and shift pressed</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If both of the above modes are found, the limitation regarding single codepoints described in the Limitations section applies.</p>
</div>
<div class="paragraph">
<p>Any other modes are ignored by this target.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="x11"><a class="link" href="#x11">21. X11</a></h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
The X11 output should be considered experimental. It requires modifying global X11 files, and might eat your cat.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>x11</code> target outputs an X11-compatible xkb file. It has no special configuration and outputs the generated file to the <code>x11/</code> directory.</p>
</div>
</div>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
});
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>